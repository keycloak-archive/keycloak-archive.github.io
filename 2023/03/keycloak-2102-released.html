
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Keycloak 21.0.2 released - Keycloak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keycloak is an open source identity and access management solution">
    <meta name="author" content="Keycloak Team">
    <meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">

    

    

    <link href="/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="/resources/css/keycloak.css" rel="stylesheet">

    <link rel="shortcut icon" href="/resources/favicon.ico">

    <script src="/resources/js/ga.js" type="text/javascript"></script>
    <script src="/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light">
    <a class="navbar-brand me-5" href="/">
        <img class="img-fluid" src="/resources/images/keycloak_logo_200px.svg" width="240" alt="Keycloak"/>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/blog">Blog</a>
        </li>
      </ul>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <h1>Keycloak 21.0.2 released</h1>
    <p class="blog-date text-muted">March 30 2023</p>


<p>To download the release go to <a href="/downloads.html">Keycloak downloads</a>.</p>


<h2>Migration from 21.0</h2>
<p>Before you upgrade remember to backup your database. If you are not on the previous release refer to <a href="/docs/latest/upgrading/index.html#migration-changes">the documentation</a> for a complete list of migration changes.</p>

<div class="sect2">
<h3 id="_terms_and_conditions_user_attribute_migration">Terms and Conditions user attribute migration</h3>
<div class="paragraph">
<p>The <code>terms_and_conditions</code> user attribute was accidentally changed in 21.0.0
to uppercase. This version reverts the user attribute back to lowercase.
The value of the attribute is set when accepting Terms and Conditions page.</p>
</div>
<div class="paragraph">
<p>If any of your custom extensions relies on this attribute, you may need to
adjust your code to check both attributes <code>terms_and_conditions</code> and
<code>TERMS_AND_CONDITIONS</code>.</p>
</div>
</div>
<h2>All resolved issues</h2>




<h3>Bugs</h3>
<ul>
<li><a href="https://github.com/keycloak/keycloak/issues/17161">#17161</a> Acquisition timeout while waiting for new connection <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17273">#17273</a> adding package using microdnf no longer works since keycloak version 21 <span class="badge bg-secondary">keycloak docs</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17277">#17277</a> Can't accept terms and conditions after upgrade from 20.0.3 to 21.0.0 <span class="badge bg-secondary">keycloak authentication</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17281">#17281</a> Avoid recording raw UUIDs  URIs in metrics like http_server_requests_seconds collected via micrometer <span class="badge bg-secondary">keycloak dist/quarkus</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17337">#17337</a> `testReleaseAllLocksMethod` test is intermittently timing out with HotRod store <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17417">#17417</a> Build on Windows fails <span class="badge bg-secondary">keycloak docs</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17427">#17427</a> OutOfMemoryError when running Model Tests in CI <span class="badge bg-secondary">keycloak storage</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17790">#17790</a> Unable to use client tls certificate bound access token with the new admin UI <span class="badge bg-secondary">keycloak </span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17803">#17803</a> Accessibility/Identity Providers: Critical Issues <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17804">#17804</a> Accessibility/Realm Settings: Critical Issues <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17805">#17805</a> Accessibility/Groups: Critical Issues <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17806">#17806</a> Accessibility/Users: Critical Issues <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17807">#17807</a> Accessibility/Clients List: Critical Issues <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17810">#17810</a> Missing visual error information for "Error while evaluating permissions" <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17813">#17813</a> With KC21: Authentication flows "used by" shows the name of the flow, not of the bind <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17814">#17814</a> Wrong role required for Client Settings > Advanced > OpenID Connect Compatibility Modes <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17815">#17815</a> Inconsistent SAML configuration generated for clients with forceNameId <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17816">#17816</a> admin-ui: authz permissions tab not updated when switching between groups <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17817">#17817</a> Alerts don't show in Keycloak nightly, also disrupting user feedback on actions <span class="badge bg-secondary">keycloak admin/ui</span></li>
<li><a href="https://github.com/keycloak/keycloak/issues/17846">#17846</a> In Authorization --> Evaluate, Users and Roles should not both be requred <span class="badge bg-secondary">keycloak admin/ui</span></li>
</ul>


<h2>Upgrading</h2>
<p>Before you upgrade remember to backup your database and check the <a href="/docs/latest/upgrading/index.html">upgrade guide</a> for anything that may have changed.</p>
</div>


<div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center pt-2 mt-3 mb-3">
        <div class="col-md-4 d-flex align-items-center">
            <span class="text-muted me-3">Sponsored by</span>
            <a href="http://www.redhat.com/" target="_blank" class="">
                <img alt="Red Hat" src="/resources/images/Logo-RedHat-A-Standard-RGB.svg" width="100">
            </a>
        </div>
    </footer>
</div>

</body>
</html>
