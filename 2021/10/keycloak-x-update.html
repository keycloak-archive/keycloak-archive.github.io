
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Keycloak.X Update - Keycloak</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Keycloak is an open source identity and access management solution">
    <meta name="author" content="Keycloak Team">
    <meta name="keywords" content="sso,idm,openid connect,saml,kerberos,ldap">

    

    

    <link href="/resources/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/resources/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="/resources/css/keycloak.css" rel="stylesheet">

    <link rel="shortcut icon" href="/resources/favicon.ico">

    <script src="/resources/js/ga.js" type="text/javascript"></script>
    <script src="/resources/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/resources/tocbot/dist/tocbot.min.js" type="text/javascript"></script>
</head>
<body>

<header class="navbar navbar-expand-md bg-light shadow-sm">
<nav class="container-xxl flex-wrap flex-md-no-wrap navbar-light">
    <a class="navbar-brand me-5" href="/">
        <img class="img-fluid" src="/resources/images/keycloak_logo_200px.svg" width="240" alt="Keycloak"/>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="fa fa-bars fa-lg px-1 py-2"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav pt-2 py-md-0">
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/guides">Guides</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/documentation">Docs</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/downloads">Downloads</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/community">Community</a>
        </li>
        <li class="nav-item col-6 col-md-auto">
          <a class="nav-link " href="/blog">Blog</a>
        </li>
      </ul>
    </div>
</nav>
</header>


<div class="container mt-5 kc-article">
    <h1>Keycloak.X Update</h1>
    <p class="blog-date text-muted">October 28 2021 by Stian Thorgersen</p>

    <div class="alert alert-warning" role="alert">
    This post is more than one year old. The contents within the blog is likely to be out of date.
    </div>

<div class="paragraph">
<p>It&#8217;s been quite some time since we announced the plans around Keycloak.X, two years in fact. Due to other priorities we&#8217;ve been a bit distracted, but now it&#8217;s finally full speed ahead.</p>
</div>
<div class="paragraph">
<p>Keycloak.X will be lighter, faster, easier, more scalable, more cloud native, and a bunch of other things. Expect greatness coming your way!</p>
</div>
<div class="paragraph">
<p>As part of Keycloak.X we&#8217;re not only making code changes, but there will also be a cultural shift where the team behind Keycloak will focus a lot more on user experience and the delivery of a manageable solution over simply pieces of code.</p>
</div>
<div class="paragraph">
<p>There will be some disruptive changes coming, but we will strive to make the transition as easy as possible for everyone. For breaking changes such as moving from WildFly to Quarkus we plan to provide 6 months to do the migration.</p>
</div>
<div class="paragraph">
<p>If that is not enough there is <a href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On</a>, which is a supported build of Keycloak by Red Hat. <a href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On</a> 7, which is based on current Keycloak architecture, has support until <a href="https://access.redhat.com/support/policy/updates/jboss_notes#p_sso">June 2024</a> (currently says 2023, but will soon be extended to 2024).</p>
</div>
<div class="paragraph">
<p>We will follow-up to this blog post with more details in the future, but for now let&#8217;s look at some of the highlights coming to Keycloak.X.</p>
</div>
<div class="sect1">
<h2 id="_highlights">Highlights</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_experiences">Experiences</h3>
<div class="paragraph">
<p>As mentioned previously a lot more attention will be put on your experience with Keycloak. With this in mind we have identified a few experiences that we believe cover a wide range of different use-cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>App developer</strong> Developers that are integrating Keycloak with applications and services</p>
</li>
<li>
<p><strong>Customizer</strong> Developers that are extending Keycloak or integrating with other systems</p>
</li>
<li>
<p><strong>Bridge</strong> Using Keycloak as a bridge between applications and other identity solutions</p>
</li>
<li>
<p><strong>Regular</strong> A typical small to medium-sized deployment of Keycloak</p>
</li>
<li>
<p><strong>Super-sized</strong> Elastic and highly available deployment of Keycloak for very large use-cases</p>
</li>
<li>
<p><strong>SaaS</strong> A extension to <strong>super-sized</strong> where Keycloak enables identities for SaaS, CIAM, and B2C scenarios</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quarkus">Quarkus</h3>
<div class="paragraph">
<p>We&#8217;re switching to Quarkus as the platform to build Keycloak. Compared to WildFly this gives faster startup-time and lower memory footprint. It also provides a much simpler approach to configuring Keycloak, with command-line arguments and environment variables instead of complicated XML files. Another great aspect of Quarkus is that it gives us a lot more control over what external libraries are included in the distribution, including faster upgrades of dependencies, which should significantly improve on situation around CVEs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_storage_re_architecture">Storage re-architecture</h3>
<div class="paragraph">
<p>We&#8217;re doing a significant re-architecture of the storage layer as part of Keycloak.X to address a number of shortcomings that where discovered in the current architecture. Zero downtime upgrade, scalability, and availability will be key topics of this new architecture, as well as making it a lot easier to support additional storage types in the long run.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operator_and_containers">Operator and Containers</h3>
<div class="paragraph">
<p>With the current approach to configuration in Keycloak creating a good experience around a container is problematic as the container has to convert from environment variables to complicated XML configuration files. With the work we&#8217;re doing around Quarkus configuring Keycloak with environment variables becomes a native thing, making it a lot simpler to provide a great container experience.</p>
</div>
<div class="paragraph">
<p>Similarly, the Operator can also be made simpler as it will be easier to configure Keycloak, as well as having better opinionated configuration from the base distribution, which trickles through from the Zip distribution, to the container, and finally to the Operator. To align the codebase more we&#8217;re also re-writing the Operator from scratch using the Java SDK and Quarkus.</p>
</div>
</div>
<div class="sect2">
<h3 id="_observability">Observability</h3>
<div class="paragraph">
<p>Metrics, tracing, logging, and health-checks are all important aspect of a cloud native application. These are all important capabilities to manage and debug Keycloak in production, especially when running on Kubernetes or OpenShift.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gitops_friendly_configuration">GitOps friendly configuration</h3>
<div class="paragraph">
<p>In a GitOps or CI/CD environment it can be problematic to manage the runtime configuration within Keycloak. As all configuration such as realms and clients live in the database and can only be managed through REST APIs it is hard to reliably manage as part of a GitOps process.</p>
</div>
<div class="paragraph">
<p>Along with the storage re-architecture comes a very powerful capability that can federate configuration from multiple sources, and we plan to take advantage of this with a file-based store, where Keycloak can read more static/immutable configuration from the file-system (YAML of course), and combine this with dynamic/mutable configuration from the DB.</p>
</div>
<div class="paragraph">
<p>Further, this enables checking in your static configuration in a Git repository, and deploy it to your development, stage and production environments as needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_external_integrations">External integrations</h3>
<div class="paragraph">
<p>Keycloak has a large number of extension points today, called SPIs. With Java (and in some cases JavaScript) it is possible to customize Keycloak with custom providers for these SPIs. Although, highly powerful and flexible, this is not ideal in a modern Kuberetes centric architecture. As the extensions are co-located with Keycloak it is harder to deploy, upgrade, and scale extensions. Extensions can also not be written in any language or framework making it more costly for non-Java developers to extend Keycloak.</p>
</div>
<div class="paragraph">
<p>With this in mind we are planning more focus on the ability to extend and integrate with Keycloak through remote extensions, and are looking at REST, gRPC, Knative, Kafka, etc. as vehicles to achieve this. In addition we would also like to get to a point where we can have a "headless" Keycloak allowing a frontend to be built in any way you want, which would bring a great addition to the current themes approach to customising the UI.</p>
</div>
</div>
<div class="sect2">
<h3 id="_decomposing">Decomposing</h3>
<div class="paragraph">
<p>Last, but not least. We are also planning on ability to decompose Keycloak as well as bring better isolation on Keycloak&#8217;s code base and capabilities. We&#8217;re not planning to go full micro-service architecture here, but rather a sensible compromise allowing everything to run as a single process, with the ability to separate some parts of Keycloak into external services.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_roadmap">Roadmap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you can imagine all of what we have planned in Keycloak.X is a large amount of work, and won&#8217;t happen overnight. We&#8217;re focusing first on the breaking changes such as moving to Quarkus and re-architecture of the storage layer.</p>
</div>
<div class="paragraph">
<p>Everything is not planned fully at this point, but we do have some idea of when we believe the various components of Keycloak.X will be delivered.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ASAP</strong>: Keycloak 16 will be the last preview of the Quarkus distribution, so we welcome everyone to try it out, and provide us with <a href="https://github.com/keycloak/keycloak/discussions/8654">feedback</a>.</p>
</li>
<li>
<p><strong>December 2021</strong>: In Keycloak 17 we will make the Quarkus distribution fully supported, and deprecate the WildFly distribution.</p>
</li>
<li>
<p><strong>March 2022</strong>: In Keycloak 18 we are aiming to include the new Operator, and preview the new store. We&#8217;re also planning on removing WildFly support from the code-base at this point.</p>
</li>
<li>
<p><strong>June 2022</strong>: First release with only the Quarkus distribution. We&#8217;re also hoping to make the new store a fully supported option at this point.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>The dates above are subject to change!</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feedback">Feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We would love your feedback on our plans around Keycloak.X, so please join us on <a href="https://github.com/keycloak/keycloak/discussions/categories/feedback">GitHub Discussions</a> to discuss the future of Keycloak!</p>
</div>
</div>
</div></div>


<div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center pt-2 mt-3 mb-3">
        <div class="col-md-4 d-flex align-items-center">
            <span class="text-muted me-3">Sponsored by</span>
            <a href="http://www.redhat.com/" target="_blank" class="">
                <img alt="Red Hat" src="/resources/images/Logo-RedHat-A-Standard-RGB.svg" width="100">
            </a>
        </div>
    </footer>
</div>

</body>
</html>
